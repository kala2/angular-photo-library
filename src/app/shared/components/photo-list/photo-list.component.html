<div class="container">
  <cdk-virtual-scroll-viewport
    itemSize="240"
    class="viewport"
    (scrolledIndexChange)="onScrolledIndexChange($event)">
    <div *cdkVirtualFor="let row of imageRows(); trackBy: trackByRowIndex" class="image-row">
      @for (image of row; track image.id) {
        <app-photo-card [id]="image.id"></app-photo-card>
      }
    </div>

    @if (isLoading() && hasLoading()) {
      <app-loading></app-loading>
    }
  </cdk-virtual-scroll-viewport>
</div>
